// Generated by CoffeeScript 1.6.3
(function() {
  var $j, isBannerAnimated, isComprasReservas, isDonuts, isHome, isLogin, isMuestraFormSiguiente, isPasos, isResponderComentario, isSearch, isSubeImagen, isTasks, isUnlogged, isVotacion, isWrite;

  $j = jQuery;

  isVotacion = $j('.votacion');

  isBannerAnimated = $j('.more-info');

  isDonuts = $j('.donutchart');

  isPasos = $j('.pasos');

  isSearch = $j('.results-content');

  isTasks = $j('li.task');

  isLogin = $j('.progress-top-bar form.login');

  isHome = $j('.faficiones');

  isWrite = $j('.write');

  isResponderComentario = $j('.answer');

  isUnlogged = $j('.unlogged');

  isSubeImagen = $j('.isSubeImagen');

  isMuestraFormSiguiente = $j('.muestra-siguiente');

  isComprasReservas = $j('.navRight');

  $j(function() {
    var barBaja, delay, donutfunction, functionTimeOut, hideLoader, inputSearch, liFirst, liLast, newPreloader, offsetAfi, offsetCom, offsetFam, oldPreloader, results, selectp, task, timer, userTask;
    if (selectpickercalled) {
      selectp = $j('.bootstrap-select');
      selectp.each(function() {
        var selectC;
        selectC = $j(this).children('.dropdown-toggle');
        selectC.attr('class', $j(this).attr('class')).removeClass('btn-group bootstrap-select');
        return $j(this).removeClass('btn');
      });
    }
    if (isVotacion.length > 0) {
      $j('.votacion.no-votado .icon-star').hover((function() {
        return $j(this).prevAll().addClass('active');
      }), (function() {
        return $j('.votacion.no-votado .icon-star').removeClass('active');
      }));
    }
    if (isBannerAnimated.length > 0) {
      $j('.more-info').click(function() {
        return $j('.banner').toggleClass('open');
      });
    }
    if (isDonuts.length > 0) {
      donutfunction = function() {
        var delay, timer;
        $j(".azul .donutchart").donutchart();
        $j(".rojo .donutchart").donutchart({
          bgColor: "#aa252b"
        });
        $j(".verde .donutchart").donutchart({
          bgColor: "#08705b"
        });
        timer = void 0;
        delay = 400;
        return $j(".joinity-thumb").hover((function() {
          var donut;
          donut = $j(".donutchart", this);
          donut.stop().donutchart("stopanimate");
          return timer = setTimeout(function() {
            return donut.stop().donutchart("animate");
          }, delay);
        }), function() {
          return clearTimeout(timer);
        });
      };
      donutfunction();
    }
    if (isPasos.length > 0) {
      functionTimeOut = function(a) {
        var delay, timer;
        timer = void 0;
        delay = 500;
        return timer = setTimeout(function() {
          return a.addClass('activo');
        }, delay);
      };
      liFirst = $j('.pasos li:first');
      liLast = $j('.pasos li:last');
      $j('.pasos li .play').click((function() {
        var li;
        li = $j(this).parent();
        if (li.is(liFirst)) {
          li.removeClass('activo');
          return functionTimeOut(li.next());
        } else if (li.is(liLast)) {
          li.removeClass('activo');
          return functionTimeOut(liFirst);
        } else {
          li.removeClass('activo');
          return functionTimeOut(li.next());
        }
      }));
      $j('.pasos li .rewind').click((function() {
        var li;
        li = $j(this).parent();
        if (li.is(liFirst)) {
          li.removeClass('activo');
          return functionTimeOut(liLast);
        } else if (li.is(liLast)) {
          li.removeClass('activo');
          return functionTimeOut(li.prev());
        } else {
          li.removeClass('activo');
          return functionTimeOut(li.prev());
        }
      }));
    }
    if (isSearch.length > 0) {
      results = $j('.results-content');
      inputSearch = $j('.modal.fade .giant');
      inputSearch.focus(function() {
        return results.removeClass('oculto');
      });
      $j(document).mouseup(function(e) {
        if (!results.is(e.target) && results.has(e.target).length === 0 && !inputSearch.is(e.target)) {
          return results.addClass('oculto');
        }
      });
    }
    if (isTasks.length > 0) {
      task = $j('li.task');
      userTask = $j('.asignada');
      timer = void 0;
      delay = 200;
      task.hover((function() {
        var etask;
        etask = $j(this);
        return timer = setTimeout(function() {
          return etask.find(userTask).addClass('show');
        }, delay);
      }), function() {
        clearTimeout(timer);
        return userTask.removeClass('show');
      });
    }
    if (isLogin.length > 0) {
      barBaja = function(barra, boton, input, verdad) {
        boton.click(function() {
          var clase;
          barra.addClass('down');
          input.focus();
          if (verdad) {
            clase = $j('.darken');
            return clase.addClass('visible');
          }
        });
        barra.click(function() {
          var clase;
          barra.addClass('down');
          if (verdad) {
            clase = $j('.darken');
            return clase.addClass('visible');
          }
        });
        return $(document).mouseup(function(e) {
          if (!barra.is(e.target) && barra.has(e.target).length === 0) {
            if (verdad) {
              barra.removeClass('down');
              return $j('.darken').removeClass('visible');
            }
          }
        });
      };
      barBaja($j('.progress-top-bar form.login'), $j('.logbtn'), $j('.progress-top-bar form.login .first'), true);
      barBaja($j('.progress-top-bar form.invite'), $j('.invitebtn'), $j('.progress-top-bar form.invite .second'), true);
      barBaja($j('.progress-top-bar form.invite'), $j('.modal-invite'), $j('.progress-top-bar form.invite .second'), true);
    }
    hideLoader = function(targets) {
      var hijo;
      targets.children('#fadingBarsG').remove();
      hijo = targets.children('.hide-text');
      return hijo.contents().unwrap();
    };
    newPreloader = $j('.preloader');
    oldPreloader = $j('.ajax-loader #fadingBarsG');
    newPreloader.click(function() {
      if ($j(this).has('#fadingBarsG').length) {
        return hideLoader($j(this));
      } else {
        $j(this).wrapInner("<div class='hide-text'></div>");
        return oldPreloader.clone().appendTo($j(this));
      }
    });
    if ($j(".infoBar").length) {
      $j('body').addClass('downBody');
    }
    if (isHome.length > 0) {
      offsetAfi = $j(".faficiones").offset().top;
      offsetFam = $j(".fandfriends").offset().top;
      offsetCom = $j(".fcompras").offset().top;
      $j(".aficat").click(function() {
        return $j("html,body").animate({
          scrollTop: offsetAfi - 90
        }, 800);
      });
      $j(".compracat").click(function() {
        return $j("html,body").animate({
          scrollTop: offsetCom - 90
        }, 800);
      });
      $j(".famcat").click(function() {
        return $j("html,body").animate({
          scrollTop: offsetFam - 90
        }, 800);
      });
    }
    if (isWrite.length > 0) {
      $j('.write .changeTo').click(function() {
        $j('.photoUpload').removeClass('hide');
        return $j('.write').addClass('hide');
      });
      $j('.photoUpload .changeTo').click(function() {
        $j('.photoUpload').addClass('hide');
        return $j('.write').removeClass('hide');
      });
    }
    if (isResponderComentario.length > 0) {
      $j('.answer').click(function() {
        $j(this).next().removeClass('hide');
        return $j(this).addClass('hide');
      });
    }
    $j('.menu-hidden .btn.showLeft').click(function() {
      $j('.left-bar').removeClass('slideBar');
      $j(this).hide();
      return $j('.menu-hidden .btn.hideLeft').css({
        'display': 'inline-block'
      });
    });
    $j('.menu-hidden .btn.hideLeft').click(function() {
      $j('.left-bar').addClass('slideBar');
      $j(this).hide();
      return $j('.menu-hidden .btn.showLeft').show();
    });
    if (isUnlogged.length > 0) {
      if ($j('.progress-top-bar').hasClass('unlogged')) {
        $j('body').addClass('unlogged');
      }
    }
    if (isSubeImagen.length > 0) {
      $j('.cambiaImagen .img').click(function() {
        $j('.upload').removeClass('existe');
        return $j(this).addClass('existe');
      });
    }
    if (isMuestraFormSiguiente.length > 0) {
      $j('.muestra-siguiente').click(function() {
        $j(this).parent().parent().addClass('hidden');
        return $j(this).parent().parent().next().removeClass('hidden');
      });
    }
    if (isComprasReservas.length > 0) {
      return $j('.navRight a').click(function() {
        var offTop;
        if ($j(this).hasClass('c0')) {
          offTop = $j(".navLeft .c0").offset().top;
        }
        if ($j(this).hasClass('c1')) {
          offTop = $j(".navLeft .c1").offset().top;
        }
        if ($j(this).hasClass('c2')) {
          offTop = $j(".navLeft .c2").offset().top;
        }
        if ($j(this).hasClass('c3')) {
          offTop = $j(".navLeft .c3").offset().top;
        }
        return $j("html,body").animate({
          scrollTop: offTop - 30
        }, 800);
      });
    }
  });

}).call(this);
